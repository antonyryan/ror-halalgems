<div id="photos" class="row">
	<%= f.fields_for :property_photos do |builder| %>		
		<%= render 'property_photo_fields', f: builder %>		
	<% end %>
</div>

<p><%= link_to_add_fields 'Add Photo', f, :property_photos %>
<p><%= cl_image_upload_tag('df', :html => { :multiple => true }) %></p>


<div id="direct_upload" class="form-group">
<section>
	<!--<div class="preview"> <%= image_tag(@listing.main_photo_url) %></div>-->
</section>
<section>
	<%= f.hidden_field(:main_photo_cache) %>
	<!-- <%= f.file_field(:main_photo, class: "form-control") %> -->
	<!-- <%= f.hidden_field(:main_photo) %> -->
	
	<!--<%= f.cl_image_upload(:main_photo,
						:tags => "property_photo",
                        :crop => :fit, :width => 940, :height => 626
                        ) %>		-->
</section>
</div>

<!--<div id="progress1" class="progress">
  <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
    <span class="sr-only">0% Complete</span>
  </div>
</div> -->

<div class="form-group">
	<div id="info"></div>
</div>

<%= f.hidden_field :listing_type_id %>

<div class="form-group">
	<%= f.label :neighborhood_names, class: 'control-label' %>
	<%= f.text_field :neighborhood_names, "data-pre" => @listing.neighborhoods.map(&:attributes).to_json, class: 'form-control' %>
</div>

<div class="form-group<%= ' has-error' unless @listing.errors[:street_address].blank?  %>">
	<%= f.label :street_address, class: 'control-label' %>
	<%= f.text_field :street_address, class: "form-control" %>
</div>

<div class="form-group<%= ' has-error' unless @listing.errors[:price].blank?  %>">
	<%= f.label :price, class: 'control-label' %>
	<%= f.text_field :price, class: 'form-control' %>
</div>

<div class="form-inline">
  <% if @listing.listing_type.try(:name) == 'Rental' %>
      <div class="form-group<%= ' has-error' unless @listing.errors[:property_type_id].blank? %>">
        <%= f.label :status_id, 'Status', class: 'control-label' %>
        <%= f.collection_select :status_id, Status.all, :id, :name, class: 'form-control' %>
      </div>
  <% end %>

	<div class="form-group<%= ' has-error' unless @listing.errors[:property_type_id].blank? %>">
		<%= f.label :property_type_id, 'Property Type', class: 'control-label' %>
		<%= f.collection_select :property_type_id, PropertyType.all, :id, :name, class: 'form-control' %>
	</div>
	
	<div class="form-group<%= ' has-error' unless @listing.errors[:bed].blank? %>">
		<%= f.label :bed, 'Beds', class: 'control-label' %>
		<%= f.collection_select :bed_id, Bed.all, :id, :name, class: 'form-control' %>
	</div>

	<div class="form-group<%= ' has-error' unless @listing.errors[:full_baths_no].blank? %>">
		<%= f.label :full_baths_no, 'Full Baths #', class: 'control-label' %>
		<%= f.text_field :full_baths_no, class: 'form-control' %>
	</div>

	<div class="form-group<%= ' has-error' unless @listing.errors[:half_baths_no].blank? %>">
		<%= f.label :half_baths_no, 'Half Baths #', class: 'control-label' %>
		<%= f.text_field :half_baths_no, class: 'form-control' %>
	</div>
</div>

